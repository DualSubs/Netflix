#!name=ğŸ¿ï¸ DualSubs: ğŸ‡³ Netflix Î²
#!desc=(BETA) Netflixå­—å¹•å¢å¼ºåŠåŒè¯­æ¨¡å—
#!openUrl=http://boxjs.com/#/app/DualSubs.Netflix.beta
#!author=VirgilClyne
#!homepage=https://github.com/DualSubs
#!manual=https://github.com/DualSubs/Netflix/wiki/ğŸ¿-DualSubs:-ğŸ‡³-Netflix
#!icon=https://github.com/DualSubs/Netflix/raw/main/database/icon_rounded.png
#!category=ğŸ¿ï¸ DualSubs
#!arguments=SourceLanguage:AUTO,TargetLanguage:ZH,ShowOnly:false
#!arguments-desc=SourceLanguage: ä¸»å­—å¹•è¯­è¨€ï¼ˆæºè¯­è¨€ï¼‰\nTargetLanguage: å‰¯å­—å¹•è¯­è¨€ï¼ˆç›®æ ‡è¯­è¨€ï¼‰\nShowOnly: åªæ˜¾ç¤ºç¿»è¯‘åå­—å¹•

[Rule]
URL-REGEX,^https?:\/\/(ios|tvos|win10)(-anycast)?\.prod\.(ftl|http1|cloud)\.netflix\.com\/msl\/playapi\/(ios|cadmium)\/(manifest|logblob|event)$,REJECT-DROP

[Script]
DualSubs.Netflix.Manifest.response.json = type=http-response, pattern=^https?:\/\/(ios|tvos|win10)\.prod\.(ftl|http1|cloud)\.netflix\.com\/playapi\/(ios|cadmium)\/manifest$, requires-body=1, debug=1, script-path=https://raw.githubusercontent.com/DualSubs/Netflix/beta/js/DualSubs.Netflix.Manifest.response.beta.js
DualSubs.Netflix.Translate.Subtitles.response = type=http-response, pattern=^https?:\/\/(.+)\.oca\.nflxvideo\.net\/\?o=\d+&v=\d+&e=\d+&t=.+, requires-body=1, debug=1, script-path=https://raw.githubusercontent.com/DualSubs/Universal/beta/js/Translate.response.beta.js, argument=Languages="{{{SourceLanguage}}},{{{TargetLanguage}}}"&ShowOnly={{{ShowOnly}}}

[MITM]
hostname = %APPEND% anycast.ftl.netflix.com, oca-api.netflix.com, *.prod.cloud.netflix.com, *.prod.ftl.netflix.com, *.prod.http1.netflix.com, *.oca.nflxvideo.net
tcp-connection = true
